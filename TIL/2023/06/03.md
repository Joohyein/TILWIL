**_네트워크_**

### 네트워크란?

‘무언가(점)와 무언가(점)가 무언가(선)에 의해 연결되어서 무언가를 주고받는 것’이 네트워크이다.

네트워크라고 해도 컴퓨터 네트워크만 있는 것은 아니다.

이제부터 ‘네트워크’라고 하면 ‘컴퓨터 네트워크’를 가리킨다.

- 컴퓨터 네트워크
  - 컴퓨터와 컴퓨터가 그물망처럼 통신 매체로 연결되어서 데이터를 운반하는 것
  - 컴퓨터와 통신 매체, 데이터로 이루어진다.
- 네트워크를 사용하는 이유?
  - 리소스를 공유함으로써 한 대로는 불가능했던 일이 가능해진다.
  - 네트워크가 없는 상태에서는 PC마다 프린터를 연결해야 한다.
  - 네트워크가 있으면 공유하고 있는 프린터에서 인쇄할 수 있어서 프린터는 한 대면 된다.
  - 네트워크가 있으면 떨어져 있는 사람과 정보 교환이 가능하다.
  - 홈페이지도 ‘홈페이지를 만든 사람의 지식이라는 리소스의 공개(공유)’라고 할 수 있다.
- 네트워크의 장점
  - **리소스를 유용하게 활용하기 위해 공유하는 것**
  - **데이터 통신으로 컴퓨터가 가진 리소스를 서로 주고받음으로써 공유**한다.
- 데이터 통신
  - 비트로 만들어진 데이터를 다른 컴퓨터에 보내거나 받는 것
  - 컴퓨터와 컴퓨터로 데이터를 주고받는 것이 네트워크고 그것을 실행하는 방법이 데이터 통신이다.

<aside>
💡

- 주고받는 정보는 비트로 표현된다.

- 데이터를 주고받는 데이터 통신을 하기 위해서는 기기와 프로토콜이 필요하다.

- 프로토콜이란 데이터 통신상에서의 규칙이다.

</aside>

<br />
<br />
<br />

## 회선 교환과 패킷 교환

<aside>
💡 복습
**데이터 통신**은 네트워크에서  이루어지는 정보를 송수신하는 방법인데 컴퓨터 등의 기기와 규칙인 프로토콜이 필요하다.

</aside>

1대 1로 데이터를 송수신할 때 파이프가 연결되어서 데이터가 지나가는데 10대랑 송수신하고싶으면 파이프가 10개, 1000대랑 송수신하고 싶으면 1000개의 파이프를 연결하면된다. 전화가 이런 방식이다. 하지만 전화망에서는 ‘전화기’를 사용해서 복수의 상대와 연결되도록 만들었다.

### 교환기와 파이프

교환기를 사용함으로써 파이프 수를 줄일 수 있다. 교환기를 사용해서 파이프를 교체해가는 방식을 회선 교환이라고 한다. 동시 통화에 필요한 수 만큼 회선이 필요하다(회선이 3개라면 3쌍의 전화기만 통화 가능). 이 방법으로는 회선의 수가 너무 많아지므로 패킷 교환 방식을 사용한다.

<aside>
💡 회선 교환의 문제점
회선이 점유되면 더 이상 접속되지 않아서 동시에 다수의 컴퓨터가 송수신할 수 없다.

</aside>

패킷과 패킷 사이에 다른 패킷을 넣어 복수의 패킷이 한 개의 회선을 사용할 수 있다. 한 개의 회선에 복수의 컴퓨터가 연결되어 있어서 수신처를 각각의 패킷에 붙인다.

데이터를 패킷으로 분할해서 송신하기 때문에 회선이 점유되지 않아서 다수의 기기가 동시에 사용할 수 있다.

- 교환기의 역할
  패킷 교환기는 수신처가 연결되어 있는 회선을 골라서 거기로 패킷을 송출하는 역할과 사용하려고 한 회선이 사용중일 셩우 일시적으로 저장했다가 회선이 비는 것을 기다리는 역할을 한다. 컴퓨터에 의한 데이터 통신에서는 복수의 컴퓨터가 동시에 사용할 수 있는 이 패킷 교환방식이 편리하다.

<aside>
💡 회선 교환은 연결되어 있는 동안에는 확실하게 수신처에 도달하고 회선을 점유할 수 있다. 반면, 패킷 교환 방식은 패킷마다 따로따로 송신하기 때문에 반드시 송신한 순서대로 수신처에 도달한다고 할 수 없고, 도착하는 시간이 불규칙할 수도 있다.
하지만 ‘복수의 컴퓨터가 사용할 수 있다’는 장점이 크기 때문에 컴퓨터 네트워크에서는 패킷 교환 방식이 사용되고 있다.

</aside>

<br />

<aside>

**_정리_**

- 테이터 통신에는 회선 교환과 패킷 교환이 있다.
- 회선 교환은 ‘파이프’를 교체하는 방식이다.
- 패킷 교환은 ‘패킷’으로 분할해서 송신하는 방식이다.
- 컴퓨터 네트워크는 패킷 교환 방식이다.
</aside>

<br />
<br />
<br />

### 통신에 필요한 기기

- 회선 교환 : 파이프를 직접 연결하는 것
- 패킷 교환 : 연결되어 있는 파이프에 분할한 패킷을 보내는 것. 컴퓨터 네트워크에서는 패킷 교환이 주로 사용된다.

<aside>
💡 **패킷 교환에서 필요한 기기**
컴퓨터, 인터페이스, 통신 매체 그리고 패킷 교환기로 **라우터**라 불리는 기기를 사용한다.
복수의 라우터가 각각 연결되어 패킷 교환 네트워크가 만들어진다.

</aside>

### 멀티액세스 네트워크와 포인트 투 포인트 네트워크

여러 대의 PC, 서버는 한 개의 케이블이 분배되어서 연결되어 있다.

<aside>
💡 **회선을 분배기에서 나눈다.**
라우터에 의한 패킷 교환이 아니라 회선을 나누어서 연결한다.
세그먼트(범위) 내의 컴퓨터끼리라면 라우터가 없어도 데이터 송수신이 가능하다.

</aside>

- 세그먼트(Segment) : (패킷 교환 없이)케이블 분배기로 연결되는 범위
- 허브(Hub) : 허브를 사용함으로써 회선(케이블)에 T자 분배기를 끼우지 않아도 분배가 가능하다.

<aside>
💡 **허브로 분배기를 만든다.**
- 허브 쪽에 케이블 삽입구(포트라고 부른다)가 있다.
- 허브 안에 T자로 분배한 회선이 있다고 생각한다.
- 컴퓨터는 허브에만 회선을 접속한다.

</aside>

- 액세스 : 컴퓨터가 다른 컴퓨터에 데이터를 송신할 수 있다는 의미
- 멀티액세스 네트워크 : 복수의 컴퓨터에 의한 데이터 송수신이 가능하다는 의미
- 포인트 투 포인트 네트워크 : 컴퓨터 한 대가 다른 한 대의 컴퓨터에만 데이터를 보내는 방식

→ 전용선이라고 불리는 회선을 사용하면 고정된 컴퓨터에만 데이터를 보낼 수 있다.

\*전용선 : 고전된 수신처에 접속된 회선

<aside>
💡 컴퓨터에서 라우터는 멀티액세스 네트워크이고, 라우터에서 라우터는 포인트 투 포인트 네트워크이다.
**멀티액세스 네트워크와 포인트 투 포인트 네트워크를 조합해서 네트워크 전체가 만들어진다.**

</aside>

<br />

### 정리

    - 패킷 교환 네트워크는 컴퓨터, 통신 매체, 인터페이스, 라우터로 이루어진다.
    - 네트워크에는 멀티액세스 네트워크와 포인트 투 포인트 네트워크의 두 종류가 있다.
    - 이 두 종류가 조합되어 네트워크 전체가 구성된다.

<br />
<br />
<br />

## 네트워크의 범위

**네트워크의 범위나 규모로 네트워크를 분류할 수 있다.**

- LAN(Local Area Network)
  - 좁은 범위의 네트워크, 구내에 설치된 네트워크
  - 지역적으로 좁은 범위에서 본인이 책임지고 구축하는 네트워크
- WAN(Wide Area Network)

  - ‘데이터 통신 서비스’를 제공하는 통신사업자에게 그들이 보유하고 있는 케이블에 데이터를 전송할 권리를 구입해서 네트워크를 구축
  - 떨어져 있는 지역의 LAN끼리 통신사업자의 통신 케이블을 빌려서 연결한 네트워크
  - `인터넷` 이 세계적 규모의 WAN의 대표

- LAN과 WAN의 차이

|             | LAN        | WAN                   |
| ----------- | ---------- | --------------------- |
| 범위        | 좁다(구내) | 넓다(지역, 국가 규모) |
| 케이블 설치 | 자비       | 통신사업자            |
| 사용요금    | 무료       | 유료                  |
| 통신속도    | 고속       | 저속                  |
| 에러 발생률 | 낮다       | 높다                  |

\*단 WAN의 통신속도나 에러 발생률은 통신사업자와의 계약에 따라 다르다.

### 정리

    - 자신의 책임으로 좁은 범위에서 만드는 것이 LAN이다.
    - 넓은 범위에서 통신사업자로부터 케이블을 빌려서 만들어진 것이 WAN이다.
    - 세계 최대 규모의 WAN은 인터넷이다.

<br />
<br />
<br />

## OSI 참조 모델이란?

최초 단계인 1960 ~ 1970년대에는 각 업체가 자신들의 컴퓨터끼리 네트워크를 사용해서 데이터 통신을 할 수 있도록 컴퓨터와 통신에서 사용하는 기기, 그리고 프로토콜을 자신들의 규격으로 만들었다. 그래서 다른 회사와는 규격이 달라서 호환되지 않는 경우가 많았다.

데이터 통신의 규격과 프로토콜을 통일하려고 했던 단체가 ISO(International Organization for Standardization)이다. 규격 통일을 표준화(Standardization)라고 하는데 그것을 하는 단체이다.

ISO의 표준화 단계에서 선언한 것이 OSI참조 모델이라는 건데, 데이터 통신의 단계 구성도이다. 데이터 통신 전체를 표준화 하기 위해서 먼저 데이터 통신 전체의 설계도를 만들려고 한 것이다. 간단히 말하면 **데이터 통신을 단계로 나누어 각 단계의 순서를 명확히**하고, **이 모델에 따라 프로토콜을 정의**해서 데이터 통신을 구축하려고 한 것이다.

- OSI 참조 모델
  - 데이터 통신을 7개의 단계로 나누는데 이 단계를 계층(Layer)이라고 부른다.
  - 네트워크에 의한 데이터 통신은 단계마다의 복수의 프로토콜로 실현된다.
  - 응용, 표현, 세션 → 내용표현
  - 전송, 네트워크 → 전송물
  - 데이터링크, 물리 → 전송

<aside>
💡 **데이터 송수신**
순서대로 계층의 역할을 수행해 감으로써 송수신을 할 수 있다.
송신측에서는 7계층부터 순서대로 각 계층의 역할을 수행한다.
수신측에서는 1계층부터 순서대로 각 계층의 역할을 수행한다.

</aside>

OSI 참조 모델이라는 설계도를 따라서 프로토콜이 만들어지는데 이것의 장점은 계층이 각각 독립해 있다는 것이다. 예를 들어, 데이터 통신에서 ‘데이터 형식’을 생각하고 싶을 때는 6계층의 순서랑 프로토콜만 생각하면 된다. 다른 계층은 생각할 필요도 없다. 편지라면 ‘편지지’를 생각 할 때 ‘우편배달원’은 생각할 필요가 없다는 것과 같다.

- 어떤 계층의 프로토콜 변경은 다른 계층에 영향을 끼치지 않는다.
- 하위 계층은 상위 계층을 위해서 일하고 상위 계층은 하위 계층에 관여하지 않는다.

### 정리

    - 데이터 통신은 OSI 참조 모델에 의한 ‘단계와 순서’로 이해한다.
    - OSI 참조 모델은 일곱개의 계층으로 나뉘어 있으며 각각은 독립해 있다.
    - 하위 계층은 상위 계층을 위해 일하고 상위 계층은 하위 계층에 대해 관여하지 않는다.

<br />
<br />
<br />

## 순서의 흐름

네트워크는 패킷 교환 방식이다. 택배를 예로 들면 소포가 패킷 역할을 한다.

<aside>
💡 **택배 포장**
운반할 물품에 운송에 필요한 것을 덧붙여간다.
- 송신 : 완충재 → 상자 → 수신자명, 내용물(택배 송장)
- 수신 : 택배 송장을 벗김 → 상자에서 꺼냄  → 완충재 제거 → 내용물 입수

</aside>

**패킷 교환 방식**에서 각각의 패킷에 수신처를 붙이는데 그것 말고도 각각의 **프로토콜**에서 필요한 정보를 덧붙여 가야 한다. 데이터 말고도 네트워크상에서의 컴퓨터 주소같은 것들을 데이터와 함께 보낸다. 데이터와 데이터를 보내기 위해 필요한 것들이 통합된 상태를 **프로토콜 데이터 유닛(Protocol Data Unit: PDU)**이라고 한다.

택배로 치면 보내고 싶은 것이 데이터이고 그것을 상자에 넣은 상태가 PDU이다.

## 캡슐화

OSI 참조 모델에서 7계층에서 1계층의 순서대로 실행하는데 계층이라는 단계를 실시할 때마다 거기에서 필요한 정보를 추가할 수 있다.

<aside>
💡 **제어 데이터의 부가**
데이터에 통신에 필요한 데이터(제어 데이터)를 덧붙여간다.

</aside>

- 메시지에 4계층의 제어정보를 덧붙인 상태를 세그먼트 또는 데이터그램이라고 부른다.
- 3계층의 제어정보를 덧붙인 상태를 데이터그램으리고 부르는데 실제로는 그 앞에 프로토콜명을 붙여서 ‘TCP 세그먼트’라던가 ‘IP 데이터그램’이라고 부르는 게 일반적이다.
- 또는 ‘4계층 PDU’ 처럼 계층 번호를 붙여서 부르는 경우도 있다.

<aside>
💡 ‘4계층 PDU’ = 세그먼트 || 데이터그램

</aside>

<aside>
💡 **캡슐화**
운반하고 싶은 데이터에 헤더를 추가해 ‘캡슐’을 만들어 간다.

</aside>

| 계층   | 호칭         | 내용                   |
| ------ | ------------ | ---------------------- |
| 사용자 | 데이터(Data) | 송수신하고 싶은 데이터 |

| 7계층 PDU
6계층 PDU
5계층 PDU | 메시지(Message) | 데이터를 통신용으로 변환한 것과
7계층 헤더 |
| 4계층 PDU | 세그먼트(Segement)
데이터그램(Datagram) | 메시지와 4계층 헤더 |
| 3계층 PDU | 데이터그램(Datagram) | 세그먼트, 데이터그램과 3계층 헤더 |
| 2계층 PDU | 프레임(Frame) | 데이터그램과 2계층 헤더
(2계층 꼬리부) |
| 1계층 | 신호 | 프레임을 전송매체로 운반하기 위한
신호로 변환 |

캡슐화에서 추가되는 제어 데이터가 앞에 붙이면 헤더, 뒤에 붙이면 꼬리부라고 부른다. 또한 헤더는 그 계층의 프로토콜명이나 계층의 번호를 붙여서 ‘TCP 헤더’라든가 ‘4계층 헤더’라는 식으로도 부른다.

### 정리

    - 통신할 때 송신하는 것은 보내고 싶은 데이터 뿐만 아니라 제어용 정보도 필요하다.
    - 계층의 순서대로 헤더라 부가되어가는 것을 캡슐화라고 한다.
    - 수신한 쪽은 반대의 순서로 헤더를 벗겨서 데이터를 입수한다.

<br />
<br />
<br />

<aside>
💡 데이터 통신에 필요한 프로토콜은 한 개가 아니라 복수의 프로토콜로 이루어진다.
OSI 참조 모델의 계층마다 각 계층의 역할을 하는 프로토콜이 존재한다.

</aside>

- 인터페이스
  ‘중개역’이라는 의미인데 케이블과 컴퓨터의 중개역을 가리키기도 하지만, 프로토콜하고 프로토콜의 중개역을 가리키는 경우도 마찬가지로 인터페이스라는 말을 사용한다.
  상하 프로토콜에서 인터페이스를 결정해 둘 필요가 있다.

<aside>
💡 프로토콜군
상위 프로토콜과 하위 프로토콜을 연결하느 ㄴ인터페이스를 갖고 있으면 7계층에서 1계층까지 연결된 프로토콜 그룹이 생기는데, 이것을 프로토콜군(Protocol Suite)이라고 부른다. 
기본적으로 어느 프로토콜군을 사용하는지에 따라 7계층에서 1계층까지 사용하는 프로토콜이 정해진다.

</aside>

### 프로토콜이 결정하는 것

프로토콜은 데이터 통신의 규칙인데 거기에서 정해지는 것은 다양하다. 데이터 사용 방법과 어떤 헤더를 붙일지를 결정하는 것도 프로토콜의 역할이다. 데이터를 주고받는 순서도 프로토콜로 정해져 있다.

<aside>
💡 표준과 사실표준
규격단체가 정하는 표준과 많은 장소에서 사용되고 있어서 표준으로 취급되는 사실표준

</aside>

<br />

### 정리

- 계층마다 존재하는 프로토콜 그룹을 프로토콜군이라고 한다.
- 프로토콜은 ‘데이터의 내용을 결정’하고, ‘헤더를 결정’하고, ‘송수신 순서를 결정’한다.
- 사실표준으로써 TCP/IP 프로토콜군이 사용된다.

<br />
<br />
<br />

## TCP/IP

TCP/IP는 IETF(the internet Engineering Task Force)라는 단체가 제정했다.

| 4계층                            | 애플리케이션계층 | HTTP: 홈페이지 열람, FTP: 파일 전송, SMTP: 전자메일 송수신 |
| -------------------------------- | ---------------- | ---------------------------------------------------------- |
| 3계층                            | 트랜스포트계층   | TCP(Transmission Control Protocol)                         |
| UDP(User Datagram Protocol)      |
| 2계층                            | 인터넷계층       | IP(Internet Protocol)                                      |
| ARP(Address Resolution Protocol) |
| 1계층                            | 인터페이스계층   | 이더넷(Ethernet)                                           |

프레임 릴레이(Frame-Relay)
PPP(Point-to Point Protocol) |

- 프로토콜 : 통신을 실시하기 위한 규칙. 계층마다 그 역할을 하는 프로토콜이 있다. 모델과 일치하는 복수의 프로토콜을 프로토콜군이라고 부른다.
- 캡슐화 : 각 계층에서 상위 계층에서 오는 데이터에 그 역할을 수행하기 위해 필요한 제어정보를 추가해 간다. 이것은 프로토콜로 결정되어 있다.

<aside>
💡 OSI 참조 모델이라는 설꼐도에 따라 ‘프로토콜’이라는 통신상의 규칙이 정해지고 그것에 따라서 데이터 통신이 실행된다. 이것은 ‘네트워크에서 어떤 순서로 통신할지’하는 얘기로 이어지고, ‘구축’과 ‘순서’ 둘 다 중요해서 어느 한쪽만 없어도 네트워크로써 동작하지 않는다.
파이프랑 기기 배치에 의한 ‘구축’, 그리고 모델과 프로토콜에 의한 ‘순서’

</aside>

<br />
<br />
<br />

## 1계층의 역할과 개요

통신 매체란 케이블을 말하는데, 이 케이블에 대한 규칙도 1계층에서 정해져있다.

<aside>
💡 케이블이 연결되어 있는 기기에 신호를 전달하는 것이 1계층의 역할이다.

</aside>

2계층부터 상위 계층은 ‘데이터를 보내기 전에 어떤 것을 할지’, ‘데이터가 도달한 뒤에 어떤 것을 할지’를 생각하는 것이다.

### 통신 매체

기기와 기기 사이를 연결해서 신호가 지나는 ‘파이프’ 역할을 하는 것이 통신 매체다.
데이터(비트)를 신호로 변환해서 전송하고 신호를 비트로 변환해서 다시 기기로 보낸다.

<aside>
💡 UTP(Unshielded Twist Pair cable)
두 개가 한 쌍인 동선 네 쌍으로 이루어져 있다. 현재 일반적으로 LAN에서 사용되는 케이블이다.

</aside>

인터페이스는 컴퓨터와 케이블의 중개역이다. 신호를 케이블로 보내고 전달된 신호를 받는 역할이다.
컴퓨터가 보내고 싶은 데이터를 케이블에 맞는 신호로 변환해서 케이블로 보내고, 케이블에서 보내온 신호를 컴퓨터에서 사용하는 데이터로 변환하는 기계다. 컴퓨터에서 사용되는 인터페이스로는 LAN용 케이블에 접속하기 위한 NIC(Network Interface Card)가 일반적이다.

### 정리

    - 1계층의 역할은 케이블이 연결되어 있는 기기에 신호를 전달하는 것이다.
    - 1계층의 역할에 의해 상대에게 데이터가 전달된다.
    - 통신 매체에는 유선과 무선이 있고 유선에는 동선 UTP와 광파이퍼가 있다.
